---
import BaseLayout from '../../layouts/BaseLayout.astro';
import publications from '../../content/publikationen.json';
import labels from '../../content/labels.json';
import { formatPublication } from '../../utils/formatPublication';

interface Props {
  lang: 'de' | 'en';
}

const { lang } = Astro.props;
const t = labels[lang];
---

<BaseLayout title={`${t.nav.publications} - Prof. Dr. Michael Corsten`} lang={lang}>
  <div class="page-container">
    <!-- Page Header -->
    <div class="mb-12">
      <h1 class="section-header">{t.nav.publications}</h1>
    </div>

    <!-- Publications -->
    <section>
      <div class="space-y-8">
        {publications.publications.map((yearGroup) => (
          <div>
            <h3 class="text-lg font-semibold text-blue-600 dark:text-blue-400 mb-4 sticky top-20 bg-white dark:bg-slate-900 py-2">{yearGroup.year}</h3>
            <div class="space-y-4">
              {yearGroup.entries.map((pub) => (
                <div class="pl-4 border-l-2 border-slate-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-400 transition-colors">
                  <p class="text-sm leading-relaxed" set:html={formatPublication(pub, lang)} />
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>
  </div>
</BaseLayout>
